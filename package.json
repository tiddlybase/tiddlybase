{
  "name": "@tiddlybase/root",
  "version": "1.0.0",
  "description": "",
  "author": "neumark.peter@gmail.com",
  "license": "Apache-2.0",
  "packageManager": "yarn@3.1.1",
  "scripts": {
    "start": "run serve -n -d --no-port-switching --symlinks -p 8080 dist",
    "start:functions": "yarn workspace @tiddlybase/functions run local",
    "move_sourcemaps": "mkdir -p dist/sourcemaps && find dist -type f -name '*.js.map' -not -path 'dist/sourcemaps/*' -not -path 'dist/functions/*' -exec mv '{}' dist/sourcemaps/ \\;",
    "test": "yarn workspaces foreach -t run test",
    "build": "MODE=production yarn workspaces foreach -p -t run build",
    "build:dev": "MODE=development yarn workspaces foreach -t run build:dev",
    "clean": "rm -rf dist/*",
    "deploy:files": "gsutil -D -m rsync -r -d ../csaladi_naplo/files gs://peterneumark-com.appspot.com/csaladwiki/files",
    "deploy:wiki": "gsutil cp dist/wiki.html gs://peterneumark-com.appspot.com/csaladwiki/",
    "deploy:firebase": "firebase deploy --debug --only storage:rules,hosting:pn-wiki",
    "deploy:functions": "firebase deploy --only functions:addNumbers,functions:notifyAdmin",
    "deploy": "yarn deploy:wiki && yarn deploy:firebase && yarn deploy:files"
  },
  "workspaces": {
    "packages": [
      "packages/parent-frame",
      "packages/child-iframe",
      "packages/webpack-config",
      "packages/cli",
      "packages/rpc",
      "packages/tw5-types",
      "packages/plugin-storage-file",
      "packages/plugin-adaptors-lib",
      "packages/wiki-builder",
      "packages/functions"
    ]
  },
  "devDependencies": {
    "firebase-tools": "^10.2.0",
    "serve": "^13.0.2"
  }
}
